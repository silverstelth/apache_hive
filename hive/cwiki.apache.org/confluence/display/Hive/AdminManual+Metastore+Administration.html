    

<!DOCTYPE html>
<html lang="en-GB" >

<!-- Mirrored from cwiki.apache.org/confluence/display/Hive/AdminManual+Metastore+Administration by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 15 Dec 2021 19:42:43 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
                            <title>AdminManual Metastore Administration - Apache Hive - Apache Software Foundation</title>
    
        

                        
    
                        
    

                
    
    <meta http-equiv="X-UA-Compatible" content="IE=EDGE,chrome=IE7">
<meta charset="UTF-8">
<meta id="confluence-context-path" name="confluence-context-path" content="/confluence">
<meta id="confluence-base-url" name="confluence-base-url" content="https://cwiki.apache.org/confluence">

    <meta id="atlassian-token" name="atlassian-token" content="d7833c7da397e2f88a76912a1879e0225325829d">


<meta id="confluence-space-key" name="confluence-space-key" content="Hive">
<script type="text/javascript">
        var contextPath = '/confluence';
</script>

    

    <meta name="confluence-request-time" content="1639597172191">
        
    
        
            <meta name="ajs-use-keyboard-shortcuts" content="true">
            <meta name="ajs-is-confluence-admin" content="false">
            <meta name="ajs-connection-timeout" content="10000">
            <script type="text/x-template" title="gliffy-webpanel-footer">
        <div class="gliffy-webpanel-footer"><span>This Confluence installation runs a Free Gliffy License - Evaluate the <a href="http://www.gliffy.com/products/confluence-plugin/">Gliffy Confluence Plugin</a> for your Wiki!</span></div>
</script>


            <style>.ia-fixed-sidebar, .ia-splitter-left {width: 285px;}.theme-default .ia-splitter #main {margin-left: 285px;}.ia-fixed-sidebar {visibility: hidden;}</style>
            <meta name="ajs-discovered-plugin-features" content="$discoveredList">
            <meta name="ajs-keyboardshortcut-hash" content="f372abdc7d1a6481c736efc7686d149c">
            <meta id="team-calendars-has-jira-link" content="true">
            <meta name="ajs-team-calendars-display-time-format" content="displayTimeFormat12">
            <meta id="team-calendars-display-week-number" content="false">
            <meta id="team-calendars-user-timezone" content="Etc/UTC">
            <script type="text/x-template" id="team-calendars-messages" title="team-calendars-messages"><fieldset class="i18n hidden"><input type="hidden" name="calendar3.month.long.july" value="July"><input type="hidden" name="calendar3.day.short.wednesday" value="Wed"><input type="hidden" name="calendar3.day.short.thursday" value="Thu"><input type="hidden" name="calendar3.month.short.march" value="Mar"><input type="hidden" name="calendar3.month.long.april" value="April"><input type="hidden" name="calendar3.month.long.october" value="October"><input type="hidden" name="calendar3.month.long.august" value="August"><input type="hidden" name="calendar3.month.short.july" value="Jul"><input type="hidden" name="calendar3.month.short.may" value="May"><input type="hidden" name="calendar3.month.short.november" value="Nov"><input type="hidden" name="calendar3.day.long.friday" value="Friday"><input type="hidden" name="calendar3.day.long.sunday" value="Sunday"><input type="hidden" name="calendar3.day.long.saturday" value="Saturday"><input type="hidden" name="calendar3.month.short.april" value="Apr"><input type="hidden" name="calendar3.day.long.wednesday" value="Wednesday"><input type="hidden" name="calendar3.month.long.december" value="December"><input type="hidden" name="calendar3.month.short.october" value="Oct"><input type="hidden" name="calendar3.day.long.monday" value="Monday"><input type="hidden" name="calendar3.month.short.june" value="Jun"><input type="hidden" name="calendar3.day.short.monday" value="Mon"><input type="hidden" name="calendar3.day.short.tuesday" value="Tue"><input type="hidden" name="calendar3.day.short.saturday" value="Sat"><input type="hidden" name="calendar3.month.long.march" value="March"><input type="hidden" name="calendar3.month.long.june" value="June"><input type="hidden" name="calendar3.month.short.february" value="Feb"><input type="hidden" name="calendar3.month.short.august" value="Aug"><input type="hidden" name="calendar3.month.short.december" value="Dec"><input type="hidden" name="calendar3.day.short.sunday" value="Sun"><input type="hidden" name="calendar3.month.long.february" value="February"><input type="hidden" name="calendar3.day.long.tuesday" value="Tuesday"><input type="hidden" name="calendar3.month.long.may" value="May"><input type="hidden" name="calendar3.month.long.september" value="September"><input type="hidden" name="calendar3.month.long.november" value="November"><input type="hidden" name="calendar3.month.short.january" value="Jan"><input type="hidden" name="calendar3.month.short.september" value="Sep"><input type="hidden" name="calendar3.day.long.thursday" value="Thursday"><input type="hidden" name="calendar3.month.long.january" value="January"><input type="hidden" name="calendar3.day.short.friday" value="Fri"></fieldset></script>
            
    
    
            <meta name="ajs-page-title" content="AdminManual Metastore Administration">
            <meta name="ajs-latest-published-page-title" content="AdminManual Metastore Administration">
            <meta name="ajs-space-name" content="Apache Hive">
            <meta name="ajs-page-id" content="27362076">
            <meta name="ajs-latest-page-id" content="27362076">
            <meta name="ajs-content-type" content="page">
            <meta name="ajs-parent-page-id" content="">
            <meta name="ajs-space-key" content="Hive">
            <meta name="ajs-max-number-editors" content="12">
            <meta name="ajs-macro-placeholder-timeout" content="5000">
            <meta name="ajs-jira-metadata-count" content="-1">
            <meta name="ajs-from-page-title" content="">
            <meta name="ajs-can-remove-page" content="false">
            <meta name="ajs-can-remove-page-hierarchy" content="false">
            <meta name="ajs-browse-page-tree-mode" content="view">
            <meta name="ajs-shared-drafts" content="true">
            <meta name="ajs-context-path" content="/confluence">
            <meta name="ajs-base-url" content="https://cwiki.apache.org/confluence">
            <meta name="ajs-version-number" content="7.13.2">
            <meta name="ajs-build-number" content="8703">
            <meta name="ajs-remote-user" content="">
            <meta name="ajs-remote-user-key" content="">
            <meta name="ajs-remote-user-has-licensed-access" content="false">
            <meta name="ajs-remote-user-has-browse-users-permission" content="false">
            <meta name="ajs-current-user-fullname" content="">
            <meta name="ajs-current-user-avatar-url" content="">
            <meta name="ajs-current-user-avatar-uri-reference" content="/confluence/images/icons/profilepics/anonymous.svg">
            <meta name="ajs-static-resource-url-prefix" content="/confluence/s/6dvx22/8703/4mhn8a/_">
            <meta name="ajs-global-settings-attachment-max-size" content="20971520">
            <meta name="ajs-global-settings-quick-search-enabled" content="true">
            <meta name="ajs-user-locale" content="en_GB">
            <meta name="ajs-enabled-dark-features" content="site-wide.shared-drafts,site-wide.synchrony,clc.quick.create,confluence.view.edit.transition,cql.search.screen,confluence-inline-comments-resolved,frontend.editor.v4,http.session.registrar,nps.survey.inline.dialog,confluence.efi.onboarding.new.templates,frontend.editor.v4.compatibility,atlassian.cdn.static.assets,pdf-preview,previews.sharing,previews.versions,file-annotations,confluence.efi.onboarding.rich.space.content,collaborative-audit-log,confluence.reindex.improvements,previews.conversion-service,editor.ajax.save,read.only.mode,graphql,previews.trigger-all-file-types,attachment.extracted.text.extractor,lucene.caching.filter,confluence.table.resizable,notification.batch,previews.sharing.pushstate,confluence-inline-comments-rich-editor,tc.tacca.dacca,site-wide.synchrony.opt-in,file-annotations.likes,gatekeeper-ui-v2,v2.content.name.searcher,mobile.supported.version,pulp,confluence-inline-comments,confluence-inline-comments-dangling-comment,quick-reload-inline-comments-flags">
            <meta name="ajs-atl-token" content="d7833c7da397e2f88a76912a1879e0225325829d">
            <meta name="ajs-confluence-flavour" content="VANILLA">
            <meta name="ajs-user-date-pattern" content="dd MMM yyyy">
            <meta name="ajs-access-mode" content="READ_WRITE">
            <meta name="ajs-render-mode" content="READ_WRITE">
            <meta name="ajs-date.format" content="MMM dd, yyyy">
    
    <link rel="shortcut icon" href="https://cwiki.apache.org/confluence/s/6dvx22/8703/4mhn8a/1/_/favicon.ico">
    <link rel="icon" type="image/x-icon" href="https://cwiki.apache.org/confluence/s/6dvx22/8703/4mhn8a/1/_/favicon.ico">

<link rel="search" type="application/opensearchdescription+xml" href="https://cwiki.apache.org/confluence/opensearch/osd.action" title="Apache Software Foundation"/>
    
                    
            <meta name="ajs-create-issue-metadata-show-discovery" content="false">
            

    <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["com.atlassian.plugins.atlassian-plugins-webresource-plugin:context-path.context-path"]="\u0022\u005C/confluence\u0022";
WRM._unparsedData["com.atlassian.confluence.plugins.confluence-feature-discovery-plugin:confluence-feature-discovery-plugin-resources.test-mode"]="false";
WRM._unparsedData["com.atlassian.confluence.plugins.synchrony-interop:synchrony-status-banner-loader.synchrony-status"]="false";
WRM._unparsedData["com.atlassian.analytics.analytics-client:policy-update-init.policy-update-data-provider"]="false";
WRM._unparsedData["com.atlassian.analytics.analytics-client:programmatic-analytics-init.programmatic-analytics-data-provider"]="false";
WRM._unparsedData["com.atlassian.applinks.applinks-plugin:applinks-common-exported.applinks-help-paths"]="{\u0022entries\u0022:{\u0022applinks.docs.root\u0022:\u0022https://confluence.atlassian.com/display/APPLINKS-072/\u0022,\u0022applinks.docs.diagnostics.troubleshoot.sslunmatched\u0022:\u0022SSL+and+application+link+troubleshooting+guide\u0022,\u0022applinks.docs.diagnostics.troubleshoot.oauthsignatureinvalid\u0022:\u0022OAuth+troubleshooting+guide\u0022,\u0022applinks.docs.diagnostics.troubleshoot.oauthtimestamprefused\u0022:\u0022OAuth+troubleshooting+guide\u0022,\u0022applinks.docs.delete.entity.link\u0022:\u0022Create+links+between+projects\u0022,\u0022applinks.docs.adding.application.link\u0022:\u0022Link+Atlassian+applications+to+work+together\u0022,\u0022applinks.docs.administration.guide\u0022:\u0022Application+Links+Documentation\u0022,\u0022applinks.docs.oauth.security\u0022:\u0022OAuth+security+for+application+links\u0022,\u0022applinks.docs.troubleshoot.application.links\u0022:\u0022Troubleshoot+application+links\u0022,\u0022applinks.docs.diagnostics.troubleshoot.unknownerror\u0022:\u0022Network+and+connectivity+troubleshooting+guide\u0022,\u0022applinks.docs.configuring.auth.trusted.apps\u0022:\u0022Configuring+Trusted+Applications+authentication+for+an+application+link\u0022,\u0022applinks.docs.diagnostics.troubleshoot.authlevelunsupported\u0022:\u0022OAuth+troubleshooting+guide\u0022,\u0022applinks.docs.diagnostics.troubleshoot.ssluntrusted\u0022:\u0022SSL+and+application+link+troubleshooting+guide\u0022,\u0022applinks.docs.diagnostics.troubleshoot.unknownhost\u0022:\u0022Network+and+connectivity+troubleshooting+guide\u0022,\u0022applinks.docs.delete.application.link\u0022:\u0022Link+Atlassian+applications+to+work+together\u0022,\u0022applinks.docs.adding.project.link\u0022:\u0022Configuring+Project+links+across+Applications\u0022,\u0022applinks.docs.link.applications\u0022:\u0022Link+Atlassian+applications+to+work+together\u0022,\u0022applinks.docs.diagnostics.troubleshoot.oauthproblem\u0022:\u0022OAuth+troubleshooting+guide\u0022,\u0022applinks.docs.diagnostics.troubleshoot.migration\u0022:\u0022Update+application+links+to+use+OAuth\u0022,\u0022applinks.docs.relocate.application.link\u0022:\u0022Link+Atlassian+applications+to+work+together\u0022,\u0022applinks.docs.administering.entity.links\u0022:\u0022Create+links+between+projects\u0022,\u0022applinks.docs.upgrade.application.link\u0022:\u0022OAuth+security+for+application+links\u0022,\u0022applinks.docs.diagnostics.troubleshoot.connectionrefused\u0022:\u0022Network+and+connectivity+troubleshooting+guide\u0022,\u0022applinks.docs.configuring.auth.oauth\u0022:\u0022OAuth+security+for+application+links\u0022,\u0022applinks.docs.insufficient.remote.permission\u0022:\u0022OAuth+security+for+application+links\u0022,\u0022applinks.docs.configuring.application.link.auth\u0022:\u0022OAuth+security+for+application+links\u0022,\u0022applinks.docs.diagnostics\u0022:\u0022Application+links+diagnostics\u0022,\u0022applinks.docs.configured.authentication.types\u0022:\u0022OAuth+security+for+application+links\u0022,\u0022applinks.docs.adding.entity.link\u0022:\u0022Create+links+between+projects\u0022,\u0022applinks.docs.diagnostics.troubleshoot.unexpectedresponse\u0022:\u0022Network+and+connectivity+troubleshooting+guide\u0022,\u0022applinks.docs.configuring.auth.basic\u0022:\u0022Configuring+Basic+HTTP+Authentication+for+an+Application+Link\u0022,\u0022applinks.docs.diagnostics.troubleshoot.authlevelmismatch\u0022:\u0022OAuth+troubleshooting+guide\u0022}}";
WRM._unparsedData["com.atlassian.applinks.applinks-plugin:applinks-common-exported.applinks-types"]="{\u0022crowd\u0022:\u0022Crowd\u0022,\u0022confluence\u0022:\u0022Confluence\u0022,\u0022fecru\u0022:\u0022FishEye / Crucible\u0022,\u0022stash\u0022:\u0022Stash\u0022,\u0022jira\u0022:\u0022Jira\u0022,\u0022refapp\u0022:\u0022Reference Application\u0022,\u0022bamboo\u0022:\u0022Bamboo\u0022,\u0022generic\u0022:\u0022Generic Application\u0022}";
WRM._unparsedData["com.atlassian.applinks.applinks-plugin:applinks-common-exported.entity-types"]="{\u0022singular\u0022:{\u0022refapp.charlie\u0022:\u0022Charlie\u0022,\u0022fecru.project\u0022:\u0022Crucible Project\u0022,\u0022fecru.repository\u0022:\u0022FishEye Repository\u0022,\u0022stash.project\u0022:\u0022Stash Project\u0022,\u0022generic.entity\u0022:\u0022Generic Project\u0022,\u0022confluence.space\u0022:\u0022Confluence Space\u0022,\u0022bamboo.project\u0022:\u0022Bamboo Project\u0022,\u0022jira.project\u0022:\u0022Jira Project\u0022},\u0022plural\u0022:{\u0022refapp.charlie\u0022:\u0022Charlies\u0022,\u0022fecru.project\u0022:\u0022Crucible Projects\u0022,\u0022fecru.repository\u0022:\u0022FishEye Repositories\u0022,\u0022stash.project\u0022:\u0022Stash Projects\u0022,\u0022generic.entity\u0022:\u0022Generic Projects\u0022,\u0022confluence.space\u0022:\u0022Confluence Spaces\u0022,\u0022bamboo.project\u0022:\u0022Bamboo Projects\u0022,\u0022jira.project\u0022:\u0022Jira Projects\u0022}}";
WRM._unparsedData["com.atlassian.applinks.applinks-plugin:applinks-common-exported.authentication-types"]="{\u0022com.atlassian.applinks.api.auth.types.BasicAuthenticationProvider\u0022:\u0022Basic Access\u0022,\u0022com.atlassian.applinks.api.auth.types.TrustedAppsAuthenticationProvider\u0022:\u0022Trusted Applications\u0022,\u0022com.atlassian.applinks.api.auth.types.CorsAuthenticationProvider\u0022:\u0022CORS\u0022,\u0022com.atlassian.applinks.api.auth.types.OAuthAuthenticationProvider\u0022:\u0022OAuth\u0022,\u0022com.atlassian.applinks.api.auth.types.TwoLeggedOAuthAuthenticationProvider\u0022:\u0022OAuth\u0022,\u0022com.atlassian.applinks.api.auth.types.TwoLeggedOAuthWithImpersonationAuthenticationProvider\u0022:\u0022OAuth\u0022}";
WRM._unparsedData["com.atlassian.confluence.plugins.confluence-license-banner:confluence-license-banner-resources.license-details"]="{\u0022daysBeforeLicenseExpiry\u0022:0,\u0022daysBeforeMaintenanceExpiry\u0022:0,\u0022showLicenseExpiryBanner\u0022:false,\u0022showMaintenanceExpiryBanner\u0022:false,\u0022renewUrl\u0022:null,\u0022salesUrl\u0022:null}";
WRM._unparsedData["com.atlassian.confluence.plugins.confluence-search-ui-plugin:confluence-search-ui-plugin-resources.i18n-data"]="{\u0022search.ui.recent.link.text\u0022:\u0022View more recently visited\u0022,\u0022search.ui.filter.space.category.input.label\u0022:\u0022Find space categories...\u0022,\u0022search.ui.search.results.empty\u0022:\u0022We couldn\u005Cu0027\u005Cu0027t find anything matching \u005C\u0022{0}\u005C\u0022.\u0022,\u0022search.ui.filter.clear.selected\u0022:\u0022Clear selected items\u0022,\u0022search.ui.content.name.search.items.panel.load.all.top.items.button.text\u0022:\u0022Show more app results...\u0022,\u0022search.ui.filter.space.archive.label\u0022:\u0022Search archived spaces\u0022,\u0022search.ui.filter.label\u0022:\u0022filter\u0022,\u0022search.ui.filter.contributor.button.text\u0022:\u0022Contributor\u0022,\u0022search.ui.filter.date.all.text\u0022:\u0022Any time\u0022,\u0022search.ui.filter.space.current.label\u0022:\u0022CURRENT\u0022,\u0022search.ui.clear.input.button.text\u0022:\u0022Clear text\u0022,\u0022search.ui.search.results.clear.button\u0022:\u0022clear your filters.\u0022,\u0022search.ui.filter.date.hour.text\u0022:\u0022The past day\u0022,\u0022help.search.ui.link.title\u0022:\u0022Search tips\u0022,\u0022search.ui.filters.heading\u0022:\u0022Filter by\u0022,\u0022search.ui.filter.label.input.label\u0022:\u0022Find labels...\u0022,\u0022search.ui.recent.items.anonymous\u0022:\u0022Start exploring. Your search results will appear here.\u0022,\u0022search.ui.filter.date.month.text\u0022:\u0022The past month\u0022,\u0022search.ui.input.label\u0022:\u0022Search\u0022,\u0022search.ui.search.result\u0022:\u0022{0,choice,1#{0} search result|1\u005Cu003c{0} search results}\u0022,\u0022search.ui.infinite.scroll.button.text\u0022:\u0022More results\u0022,\u0022search.ui.filter.date.button.text\u0022:\u0022Date\u0022,\u0022search.ui.filter.date.week.text\u0022:\u0022The past week\u0022,\u0022search.ui.filter.label.button.text\u0022:\u0022Label\u0022,\u0022search.ui.input.alert\u0022:\u0022Hit enter to search\u0022,\u0022search.ui.result.subtitle.calendar\u0022:\u0022Team calendar\u0022,\u0022search.ui.filter.no.result.text\u0022:\u0022We can\u005Cu0027\u005Cu0027t find anything matching your search\u0022,\u0022search.ui.filter.date.heading\u0022:\u0022Last modified within\u0022,\u0022search.ui.result.subtitle.user\u0022:\u0022User profile\u0022,\u0022search.ui.filter.contributor.input.label\u0022:\u0022Find people...\u0022,\u0022search.ui.filter.content.type.button.text\u0022:\u0022Type\u0022,\u0022search.ui.filter.space.input.label\u0022:\u0022Find spaces...\u0022,\u0022search.ui.filter.date.year.text\u0022:\u0022The past year\u0022,\u0022search.ui.advanced.search.link.text\u0022:\u0022Advanced search\u0022,\u0022search.ui.filter.space.button.text\u0022:\u0022Space\u0022,\u0022search.ui.generic.error\u0022:\u0022Something went wrong. Refresh the page, or contact your admin if this keeps happening.\u0022,\u0022search.ui.recent.spaces\u0022:\u0022Recent Spaces\u0022,\u0022search.ui.search.results.clear.line2\u0022:\u0022Try a different search term or\u0022,\u0022search.ui.filter.space.category.button.text\u0022:\u0022Space category\u0022,\u0022search.ui.search.results.clear.line1\u0022:\u0022We couldn\u005Cu0027\u005Cu0027t find anything matching your search.\u0022,\u0022search.ui.content.name.search.items.panel.load.all.top.items.admin.button.text\u0022:\u0022Show more settings and app results...\u0022,\u0022search.ui.recent.pages\u0022:\u0022Recently visited\u0022,\u0022search.ui.search.result.anonymous\u0022:\u0022{0,choice,1#{0} search result|1\u005Cu003c{0} search results}. Have an account? {1}Log in{2} to expand your search.\u0022,\u0022search.ui.recent.items.empty\u0022:\u0022Start exploring. Pages and spaces you\u005Cu0027\u005Cu0027ve visited recently will appear here.\u0022,\u0022search.ui.result.subtitle.space\u0022:\u0022Space\u0022,\u0022search.ui.filter.space.init.heading\u0022:\u0022recent spaces\u0022}";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script>
<link type="text/css" rel="stylesheet" href="../../s/ad0cdaf669e3a7800fb6fa6452e260e4-CDN/6dvx22/8703/4mhn8a/6b1577085985a611eea3c1e80e0e7e93/_/download/contextbatch/css/_super/batch.css" data-wrm-key="_super" data-wrm-batch-type="context" media="all">
<link type="text/css" rel="stylesheet" href="../../s/585884a9f3984b0aaecef0baf40c1e6e-CDN/6dvx22/8703/4mhn8a/e6aaebbd7baa9a045ec96374ae08d3b2/_/download/contextbatch/css/atl.confluence.plugins.pagetree-desktop%2cmain%2cvi/batch1203.css?gatekeeper-ui-v2=true&amp;highlightactions=true&amp;hostenabled=true" data-wrm-key="atl.confluence.plugins.pagetree-desktop,main,viewcontent,atl.general,page,atl.comments,-_super" data-wrm-batch-type="context" media="all">
<script type="text/javascript" src="../../s/58e418cc99c782d6bf891d0ee81d3e82-CDN/6dvx22/8703/4mhn8a/6b1577085985a611eea3c1e80e0e7e93/_/download/contextbatch/js/_super/batch6116.js?locale=en-GB" data-wrm-key="_super" data-wrm-batch-type="context" data-initially-rendered></script>
<script type="text/javascript" src="../../s/d8f9091841663d4e3446e48379e476f1-CDN/6dvx22/8703/4mhn8a/e6aaebbd7baa9a045ec96374ae08d3b2/_/download/contextbatch/js/atl.confluence.plugins.pagetree-desktop%2cmain%2cvi/batch3a32.js?gatekeeper-ui-v2=true&amp;highlightactions=true&amp;hostenabled=true&amp;locale=en-GB" data-wrm-key="atl.confluence.plugins.pagetree-desktop,main,viewcontent,atl.general,page,atl.comments,-_super" data-wrm-batch-type="context" data-initially-rendered></script>

    

        
    

        
        <meta name="ajs-site-title" content="Apache Software Foundation" />
            
    

    
                <link rel="canonical" href="AdminManual%2bMetastore%2bAdministration.html">
        <link rel="shortlink" href="https://cwiki.apache.org/confluence/x/HIOhAQ">
    <meta name="wikilink" content="[Hive:AdminManual Metastore Administration]">
    <meta name="page-version" content="50">
    <meta name="ajs-page-version" content="50">

</head>

    
<body      id="com-atlassian-confluence" class="theme-default  aui-layout aui-theme-default">

        
            

<fieldset class="parameters hidden" style="display: none;">
            <input type="hidden" id="listAnalyticsKey" value="19"/>
        <input type="hidden" id="listAnalyticsDomain" value="comalatech.matomo.cloud"/>
    </fieldset>
            <div id='stp-licenseStatus-banner'></div>
    <ul id="assistive-skip-links" class="assistive">
    <li><a href="#title-heading">Skip to content</a></li>
    <li><a href="#breadcrumbs">Skip to breadcrumbs</a></li>
    <li><a href="#header-menu-bar">Skip to header menu</a></li>
    <li><a href="#navigation">Skip to action menu</a></li>
    <li><a href="#quick-search-query">Skip to quick search</a></li>
</ul>
<div id="page">
<div id="full-height-container">
    <div id="header-precursor">
        <div class="cell">
            
                            </div>
    </div>
        





<header id="header" role="banner">
    <nav class="aui-header aui-dropdown2-trigger-group" aria-label="Site"><div class="aui-header-inner"><div class="aui-header-before"><button class=" aui-dropdown2-trigger app-switcher-trigger aui-dropdown2-trigger-arrowless" aria-controls="app-switcher" aria-haspopup="true" role="button" data-aui-trigger href="#app-switcher"><span class="aui-icon aui-icon-small aui-iconfont-appswitcher">Linked Applications</span></button><div id="app-switcher" class="aui-dropdown2 aui-style-default" role="menu" hidden data-is-switcher="true" data-environment="{&quot;isUserAdmin&quot;:false,&quot;isAppSuggestionAvailable&quot;:false,&quot;isSiteAdminUser&quot;:false}"><div class="app-switcher-loading">Loading&hellip;</div></div></div><div class="aui-header-primary"><span id="logo" class="aui-header-logo aui-header-logo-confluence"><a href="https://cwiki.apache.org/confluence/" aria-label="Go to home page"><span class="aui-header-logo-device">Apache Software Foundation</span></a></span><ul class="aui-nav">
                            <li>
            
        
        
<a  id="space-directory-link" href="https://cwiki.apache.org/confluence/spacedirectory/view.action"  class=" aui-nav-imagelink"   title="Spaces">
            <span>Spaces</span>
    </a>
        </li>
                                <li class="aui-buttons">
            </li>
</ul>
</div><div class="aui-header-secondary"><ul class="aui-nav">
                        <li>
        <div id="search-ui" class="aui-quicksearch dont-default-focus header-quicksearch"><input id="quick-search-query" aria-label="Search" placeholder="Search" type="text" /><div id="quick-search-alert" role="alert">Hit enter to search</div><aui-spinner size="small"></aui-spinner></div>
    </li>
        <li>
            
        <a id="help-menu-link" class="aui-nav-link aui-dropdown2-trigger aui-dropdown2-trigger-arrowless" href="#" aria-haspopup="true" aria-owns="help-menu-link-content" title="Help">
        <span class="aui-icon aui-icon-small aui-iconfont-question-filled">Help</span>
    </a>
    <nav id="help-menu-link-content" class="aui-dropdown2 aui-style-default" aria-hidden="true">
                    <div class="aui-dropdown2-section">
                                <ul  id="help-menu-link-leading" class="aui-list-truncate section-leading first">
                                            <li>
        
            
<a  id="confluence-help-link" href="https://docs.atlassian.com/confluence/docs-713/" class="    "      title="Visit the Confluence documentation home"  target="_blank"
>
        Online Help
</a>
</li>
                                            <li>
    
            
<a  id="keyboard-shortcuts-link" href="https://cwiki.apache.org/confluence" class="    "      title="View available keyboard shortcuts" >
        Keyboard Shortcuts
</a>
</li>
                                            <li>
    
            
<a  id="feed-builder-link" href="https://cwiki.apache.org/confluence/dashboard/configurerssfeed.action" class="    "      title="Create your custom RSS feed." >
        Feed Builder
</a>
</li>
                                            <li>
    
            
<a  id="whats-new-menu-link" href="https://docs.atlassian.com/confluence/docs-713/help.whats.new.iframe.link" class="    "      title="" >
        What’s new
</a>
</li>
                                            <li>
    
            
<a  id="whats-new-menu-link" href="https://confluence.atlassian.com/display/DOC/Confluence+7.13+Release+Notes" class="    "      title="" >
        What’s new
</a>
</li>
                                            <li>
    
            
<a  id="gadget-directory-link" href="https://cwiki.apache.org/confluence" class="   user-item administration-link "      title="Browse gadgets provided by Confluence" >
        Available Gadgets
</a>
</li>
                                            <li>
    
            
<a  id="confluence-about-link" href="https://cwiki.apache.org/confluence/aboutconfluencepage.action" class="    "      title="Get more information about Confluence" >
        About Confluence
</a>
</li>
                                    </ul>
            </div>
            </nav>
    
    </li>
        <li>
                
    
    </li>
        <li>
            
    </li>
        <li>
                                            <li>
        
            
<a  id="login-link" href="https://cwiki.apache.org/confluence/login.action?os_destination=%2Fdisplay%2FHive%2FAdminManual%2BMetastore%2BAdministration" class="   user-item login-link "      title="" >
        Log in
</a>
</li>
                        <li>
    
            
<a  id="signup-link" href="https://cwiki.apache.org/confluence/signup.action" class="   user-item signup-link "      title="" >
        Sign up
</a>
</li>
                        
    </li>
    </ul>
</div></div><!-- .aui-header-inner--></nav><!-- .aui-header -->
    <br class="clear">
</header>
    

    
    	<div class="ia-splitter">
    		<div class="ia-splitter-left">
    			<div class="ia-fixed-sidebar">
                                            
                            <div class="acs-side-bar ia-scrollable-section"><div class="acs-side-bar-space-info tipsy-enabled" data-configure-tooltip="Edit space details"><div class="avatar"><div class="space-logo" data-key="Hive" data-name="Apache Hive" data-entity-type="confluence.space"><div class="avatar-img-container"><div class="avatar-img-wrapper"><a href="Home.html" title="Apache Hive"><img class="avatar-img" src="https://cwiki.apache.org/confluence/download/attachments/27362113/Hive?version=2&amp;modificationDate=1317659390000&amp;api=v2" alt="Apache Hive"></a></div></div></div></div><div class="space-information-container"><div class="name"><a href="Home.html" title="Apache Hive">Apache Hive</a></div><div class="flyout-handle icon aui-icon aui-icon-small aui-iconfont-edit"></div></div></div><div class="acs-side-bar-content"><div class="acs-nav-wrapper"><div class="acs-nav" data-has-create-permission="false" data-quick-links-state="null" data-page-tree-state="null" data-nav-type="pages"><div class="acs-nav-sections"><div class="main-links-section "><ul class="acs-nav-list"><li class="acs-nav-item wiki current-item" aria-current="true" data-collector-key="spacebar-pages"><a class="acs-nav-item-link tipsy-enabled" href="https://cwiki.apache.org/confluence/collector/pages.action?key=Hive" data-collapsed-tooltip="Pages"><span class="icon"></span><span class="acs-nav-item-label">Pages</span></a></li><li class="acs-nav-item blog" data-collector-key="spacebar-blogs"><a class="acs-nav-item-link tipsy-enabled" href="https://cwiki.apache.org/confluence/pages/viewrecentblogposts.action?key=Hive" data-collapsed-tooltip="Blog"><span class="icon"></span><span class="acs-nav-item-label">Blog</span></a></li></ul></div><div class="quick-links-wrapper"><h5 class="ia-quick-links-header-title">Space shortcuts</h5><div class="quick-links-section tipsy-enabled "><ul class="acs-nav-list"><li class="acs-nav-item pinned_page blueprint kb-how-to-article"><a class="acs-nav-item-link tipsy-enabled" href="How-to%2barticles.html" data-collapsed-tooltip="null"><span class="icon"></span><span class="acs-nav-item-label">How-to articles</span></a></li></ul></div></div></div></div></div><div class="ia-secondary-container tipsy-enabled" data-tree-type="pages"><div class="ia-secondary-header"><h5 class="ia-secondary-header-title pages"><span class="label">Child pages</span></h5></div><div class="ia-secondary-parent-content"><ul class="parent ia-secondary-header-title wiki"><li class="parent-item"><a class="parent-item-link" href="https://cwiki.apache.org/confluence/collector/pages.action?key=Hive" title="Pages"><span class="icon"></span><span class="label">Pages</span></a></li></ul></div><div class="ia-secondary-current-content"><ul class="ia-secondary-currentPage-title wiki current-item"><li><span class="icon"></span><span class="label">AdminManual Metastore Administration</span></li></ul></div><div class="ia-secondary-content"><div class="contextual-nav-child-pages"><ul class="children"><li class="child-item" data-page-id="55156221"><span class="icon"></span><a href="Hive%2bMetaTool.html" title="Hive MetaTool"><span class="label">Hive MetaTool</span></a></li><li class="child-item" data-page-id="34835119"><span class="icon"></span><a href="Hive%2bSchema%2bTool.html" title="Hive Schema Tool"><span class="label">Hive Schema Tool</span></a></li></ul></div></div></div></div><div class="hidden"><a href="https://cwiki.apache.org/confluence/collector/pages.action?key=Hive" id="space-pages-link"></a><script type="text/x-template" title="logo-config-content"><h2>Space Details</h2><div class="personal-space-logo-hint">Your profile picture is used as the logo for your personal space. <a href="/confluence/users/profile/editmyprofilepicture.action" target="_blank">Change your profile picture</a>.</div></script></div></div><div class="space-tools-section"><div id="space-tools-menu-additional-items" class="hidden"><div data-label="Browse pages" data-class="" data-href="/confluence/pages/reorderpages.action?key=Hive">Browse pages</div></div><button id="space-tools-menu-trigger"  class=" aui-dropdown2-trigger aui-button aui-button-subtle tipsy-enabled aui-dropdown2-trigger-arrowless " aria-controls="space-tools-menu" aria-haspopup="true" role="button" data-aui-trigger><span class="aui-icon aui-icon-small aui-iconfont-configure">Configure</span><span class="aui-button-label">Space tools</span><span class="aui-icon "></span></button><div id="space-tools-menu" class="aui-dropdown2 aui-style-default space-tools-dropdown" role="menu" hidden data-aui-alignment="top left"></div><a href="#" role="button" class="expand-collapse-trigger aui-icon aui-icon-small aui-iconfont-chevron-double-left" aria-expanded="true"></a></div>
                    
                        			</div>
    		</div>
        <!-- \#header -->

            
    
        <div id="main" class=" aui-page-panel">
                        <div id="main-header">
                        
    <div id="navigation" class="content-navigation view">
                    <ul class="ajs-menu-bar">
                                            
        <li class="normal ajs-menu-item">
        <a id="action-menu-link" class="action aui-dropdown2-trigger-arrowless aui-button aui-button-subtle ajs-menu-title aui-dropdown2-trigger" href="#" aria-haspopup="true" aria-label="More options" aria-owns="action-menu" data-container="#navigation">
            <span>
                                    <span class="aui-icon aui-icon-small aui-iconfont-more" aria-label="More options"></span>
                                
            </span>
        </a>         <div id="action-menu" class="aui-dropdown2 aui-style-default" aria-hidden="true">
                            <div class="aui-dropdown2-section">
                    <ul  id="action-menu-primary"                         class="section-primary first">
                                                    <li>

    
        
    
                                                        
    
    
            <a  id="view-attachments-link" href="https://cwiki.apache.org/confluence/pages/viewpageattachments.action?pageId=27362076" rel="nofollow" class="action-view-attachments"  accessKey="t"  title="View Attachments" >
                        <span>
                                A<u>t</u>tachments (0)
            </span>        </a>
    </li>
                                                <li>

    
        
    
                                                        
    
    
            <a  id="action-view-history-link" href="https://cwiki.apache.org/confluence/pages/viewpreviousversions.action?pageId=27362076" rel="nofollow" class="action-view-history"   title="" >
                        <span>
                                Page History
            </span>        </a>
    </li>
                                                <li>

    
        
    
                                                        
    
    
            <a  id="who-can-view-button-ak-button" href="https://cwiki.apache.org/confluence" rel="nofollow" class="who-can-view-link"   title="" >
                        <span>
                                People who can view
            </span>        </a>
    </li>
                                        </ul>
                </div>
                            <div class="aui-dropdown2-section">
                    <ul  id="action-menu-secondary"                         class="section-secondary">
                                                    <li>

    
        
    
                                                        
    
    
            <a  id="view-resolved-comments" href="https://cwiki.apache.org/confluence" rel="nofollow" class=""   title="" >
                        <span>
                                Resolved comments
            </span>        </a>
    </li>
                                                <li>

    
        
    
                                                        
    
    
            <a  id="view-page-info-link" href="https://cwiki.apache.org/confluence/pages/viewinfo.action?pageId=27362076" rel="nofollow" class="action-view-info"   title="" >
                        <span>
                                Page Information
            </span>        </a>
    </li>
                                                <li>

    
        
    
                                                        
    
    
            <a  id="view-in-hierarchy-link" href="https://cwiki.apache.org/confluence/pages/reorderpages.action?key=Hive&amp;openId=27362076#selectedPageInHierarchy" rel="nofollow" class=""   title="" >
                        <span>
                                View in Hierarchy
            </span>        </a>
    </li>
                                                <li>

    
        
    
                                                        
    
    
            <a  id="action-view-source-link" href="https://cwiki.apache.org/confluence/plugins/viewsource/viewpagesrc.action?pageId=27362076" rel="nofollow" class="action-view-source popup-link"   title="" >
                        <span>
                                View Source
            </span>        </a>
    </li>
                                                <li>

    
        
    
                                                        
    
    
            <a  id="delete-all-comments-link-link" href="https://cwiki.apache.org/confluence/plugins/aptis/deleteAllComments/ask-user.action?pageId=27362076" rel="nofollow" class=""   title="" >
                        <span>
                                Delete comments
            </span>        </a>
    </li>
                                                <li>

    
        
    
                                                        
    
    
            <a  id="action-export-pdf-link" href="https://cwiki.apache.org/confluence/spaces/flyingpdf/pdfpageexport.action?pageId=27362076" rel="nofollow" class=""   title="" >
                        <span>
                                Export to PDF
            </span>        </a>
    </li>
                                                <li>

    
        
    
                                                        
    
    
            <a  id="com-k15t-confluence-scroll-epub-launcher" href="https://cwiki.apache.org/confluence/pages/viewpage.action?pageId=27362076" rel="nofollow" class=""   title="" >
                        <span>
                                Export to EPUB
            </span>        </a>
    </li>
                                                <li>

    
        
    
                                                        
    
    
            <a  id="action-export-word-link" href="https://cwiki.apache.org/confluence/exportword?pageId=27362076" rel="nofollow" class="action-export-word"   title="" >
                        <span>
                                Export to Word
            </span>        </a>
    </li>
                                        </ul>
                </div>
                            <div class="aui-dropdown2-section">
                    <ul  id="action-menu-modify"                         class="section-modify">
                                                    <li>

    
        
    
                                                        
    
    
            <a  id="treecopy-action" href="https://cwiki.apache.org/confluence/plugins/tree-copy/preparing-copying.action?pageId=27362076" rel="nofollow" class=""   title="" >
                        <span>
                                Copy Page Tree
            </span>        </a>
    </li>
                                        </ul>
                </div>
                    </div>
    </li>
            </ul>
    </div>

            
            <div id="title-heading" class="pagetitle with-breadcrumbs">
                
                                    <div id="breadcrumb-section">
                        
    
    
    <ol id="breadcrumbs">
                                        
                        
        <li class="first" >
                        
                            <span class=""><a href="https://cwiki.apache.org/confluence/collector/pages.action?key=Hive">Pages</a></span>
                                                                    </ol>


                    </div>
                
                
        <a href="#page-banner-end" class="assistive">Skip to end of banner</a>
<div id="page-banner-start" class="assistive"></div>

                    
            <div id="page-metadata-banner"><ul class="banner"><li id="system-content-items" class="noprint"><a href="#" title="Unrestricted" id="content-metadata-page-restrictions-hidden" class="hidden"></a></li><li class="page-metadata-item noprinthas-button"  id="content-metadata-jira-wrapper"><a href="#" title="" id="content-metadata-jira" class="aui-button aui-button-subtle content-metadata-jira tipsy-disabled hidden"><span>Jira links</span></a></li></ul></div>
            

<a href="#page-banner-start" class="assistive">Go to start of banner</a>
<div id="page-banner-end" class="assistive"></div>
    

                <h1 id="title-text" class="with-breadcrumbs">
                                                <a href="AdminManual%2bMetastore%2bAdministration.html">AdminManual Metastore Administration</a>
                                    </h1>
            </div>
        </div><!-- \#main-header -->
        
        

        <div id="sidebar-container">
                                                </div><!-- \#sidebar-container -->

        
    

        




            
    

                                
    

    
    
        
    
    
                    
    

    

    
            
        

    
    

    
            
        



    
<div id="content" class="page view">
    


<div id="action-messages">
                        </div>



            <script type="text/x-template" title="searchResultsGrid">
    <table class="aui">
        <thead>
            <tr class="header">
                <th class="search-result-title">Page Title</th>
                <th class="search-result-space">Space</th>
                <th class="search-result-date">Updated</th>
            </tr>
        </thead>
    </table>
</script>
<script type="text/x-template" title="searchResultsGridCount">
    <p class="search-result-count">{0}</p>
</script>
<script type="text/x-template" title="searchResultsGridRow">
    <tr class="search-result">
        <td class="search-result-title"><a href="{1}" class="content-type-{2}"><span>{0}</span></a></td>
        <td class="search-result-space"><a class="space" href="/confluence/display/{4}/" title="{3}">{3}</a></td>
        <td class="search-result-date"><span class="date" title="{6}">{5}</span></td>
    </tr>
</script>
        
    
            

        
                            
    

                    

        
        <a href="#page-metadata-end" class="assistive">Skip to end of metadata</a>
<div id="page-metadata-start" class="assistive"></div>

    <div class="page-metadata">
        <ul>
            <li class="page-metadata-modification-info">
                
        
    
        
    
        
            
            Created by <span class='author'>     <a href="https://cwiki.apache.org/confluence/login.action?os_destination=%2Fusers%2Fviewuserprofile.action%3Fusername%3Dadmin&amp;permissionViolation=true"
                       class="url fn"
                            >Confluence Administrator</a></span>, last modified by <span class='editor'>     <a href="https://cwiki.apache.org/confluence/login.action?os_destination=%2Fusers%2Fviewuserprofile.action%3Fusername%3Dashutosh.bapat&amp;permissionViolation=true"
                       class="url fn"
                            >Ashutosh Bapat</a></span> on <a class='last-modified' title='Show changes' href='https://cwiki.apache.org/confluence/pages/diffpagesbyversion.action?pageId=27362076&amp;selectedPageVersions=49&amp;selectedPageVersions=50'>Dec 07, 2018</a>
                </li>
        </ul>
    </div>


<a href="#page-metadata-start" class="assistive">Go to start of metadata</a>
<div id="page-metadata-end" class="assistive"></div>

        
                                            
        <div id="main-content" class="wiki-content">
                           
        <h2 id="AdminManualMetastoreAdministration-HiveMetastoreAdministration">Hive Metastore Administration</h2><p><div class="toc-macro client-side-toc-macro  conf-macro output-block" data-headerelements="H1,H2,H3,H4,H5,H6,H7" data-hasbody="false" data-macro-name="toc"> </div></p><div class="confluence-information-macro confluence-information-macro-note conf-macro output-block" data-hasbody="true" data-macro-name="note"><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"> </span><div class="confluence-information-macro-body"><p>This page only documents the MetaStore in Hive 2.x and earlier. For 3.x and later releases please see <a href="AdminManual%2bMetastore%2b3.html">AdminManual Metastore 3.0 Administration</a></p></div></div><h3 id="AdminManualMetastoreAdministration-Introduction">Introduction</h3><p>All the metadata for Hive tables and partitions are accessed through the Hive Metastore. Metadata is persisted using <a href="http://www.datanucleus.org/" class="external-link" rel="nofollow">JPOX</a> ORM solution (Data Nucleus) so any database that is supported by it can be used by Hive. Most of the commercial relational databases and many open source databases are supported. See the list of <a href="#AdminManualMetastoreAdministration-SupportedBackendDatabasesforMetastore">supported databases</a> in section below.</p><p>You can find an E/R diagram for the metastore <a href="https://issues.apache.org/jira/secure/attachment/12471108/HiveMetaStore.pdf" class="external-link" rel="nofollow">here</a>.</p><p>There are 2 different ways to setup the metastore server and metastore database using different Hive configurations:</p><p>Configuration options for <strong>metastore database</strong> where metadata is persisted:</p><ul><li><a href="#AdminManualMetastoreAdministration-Local/EmbeddedMetastoreDatabase(Derby)">Local/Embedded Metastore Database (Derby)</a></li><li><a href="#AdminManualMetastoreAdministration-RemoteMetastoreDatabase">Remote Metastore Database</a></li></ul><p>Configuration <span>options for</span> <strong>metastore server</strong>:</p><ul><li><a href="#AdminManualMetastoreAdministration-Local/EmbeddedMetastoreServer">Local/Embedded Metastore Server</a> </li><li><a href="#AdminManualMetastoreAdministration-RemoteMetastoreServer">Remote Metastore Server</a></li></ul><h4 style="margin-left: 0.0px;" id="AdminManualMetastoreAdministration-BasicConfigurationParameters">Basic Configuration Parameters</h4><p>The relevant configuration parameters are shown here. (Non-metastore parameters are described in <a href="AdminManual%2bConfiguration.html" style="text-decoration: none;" rel="nofollow">Configuring Hive</a>. Also see the Language Manual's <a href="Configuration%2bProperties.html" style="text-decoration: none;" rel="nofollow">Hive Configuration Properties</a>, including <a href="Configuration%2bProperties.html#ConfigurationProperties-MetaStore" style="text-decoration: none;" rel="nofollow">Metastore</a> and <a href="Configuration%2bProperties.html#ConfigurationProperties-HiveMetastoreSecurity" style="text-decoration: none;" rel="nofollow">Hive Metastore Security</a>.)</p><p>Also see hivemetastore-site.xml documentation under <a href="AdminManual%2bConfiguration.html" rel="nofollow">Configuring Hive</a>.</p><div class="table-wrap"><table style="margin-left: 0.0px;" class="confluenceTable"><colgroup><col/><col/></colgroup><tbody><tr><th style="text-align: left;" class="confluenceTh"><div class="tablesorter-header-inner"><p style="margin-left: 0.0px;">Configuration Parameter</p></div></th><th style="text-align: left;" class="confluenceTh"><div class="tablesorter-header-inner"><p style="margin-left: 0.0px;">Description</p></div></th></tr><tr><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">javax.jdo.option.ConnectionURL</p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">JDBC connection string for the data store which contains metadata</p></td></tr><tr><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">javax.jdo.option.ConnectionDriverName</p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">JDBC Driver class name for the data store which contains metadata</p></td></tr><tr><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">hive.metastore.uris</p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">Hive connects to one of these URIs to make metadata requests to a remote Metastore (comma separated list of URIs)</p></td></tr><tr><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">hive.metastore.local</p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">local or remote metastore (removed as of Hive <a class="external-link" href="https://issues.apache.org/jira/browse/HIVE-2585" rel="nofollow">0.10</a>: If <code>hive.metastore.uris</code> is empty <code>local</code> mode is assumed, <code>remote </code>otherwise)</p></td></tr><tr><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">hive.metastore.warehouse.dir</p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">URI of the default location for native tables</p></td></tr></tbody></table></div><p>The Hive metastore is stateless and thus there can be multiple instances to achieve High Availability. Using <code>hive.metastore.uris</code> it is possible to specify multiple remote metastores. Hive will use the first one from the list by default but will pick a random one on connection failure and will try to reconnect.</p><h4 style="margin-left: 0.0px;" id="AdminManualMetastoreAdministration-AdditionalConfigurationParameters">Additional Configuration Parameters</h4><p style="margin-left: 0.0px;">The following metastore configuration parameters were carried over from old documentation without a guarantee that they all still exist. See the <code>HiveConf</code> Java class for current Hive configuration options, and see the <a href="Configuration%2bProperties.html#ConfigurationProperties-MetaStore" rel="nofollow">Metastore</a> and <a href="Configuration%2bProperties.html#ConfigurationProperties-HiveMetastoreSecurity" rel="nofollow">Hive Metastore Security</a> sections of the Language Manual's <a href="Configuration%2bProperties.html" rel="nofollow">Hive Configuration Properties</a> for user-friendly descriptions of the metastore parameters.</p><div class="table-wrap"><table style="margin-left: 0.0px;" class="confluenceTable"><colgroup><col/><col/><col/></colgroup><tbody><tr><th style="text-align: left;" class="confluenceTh"><div class="tablesorter-header-inner"><p style="margin-left: 0.0px;">Configuration Parameter</p></div></th><th style="text-align: left;" class="confluenceTh"><div class="tablesorter-header-inner"><p style="margin-left: 0.0px;">Description</p></div></th><th style="text-align: left;" class="confluenceTh"><div class="tablesorter-header-inner"><p style="margin-left: 0.0px;">Default Value</p></div></th></tr><tr><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">hive.metastore.metadb.dir</p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">The location of filestore metadata base directory. (Functionality removed in 0.4.0 with <a href="https://issues.apache.org/jira/browse/HIVE-143" class="external-link" rel="nofollow">HIVE-143</a>.)</p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;"> </p></td></tr><tr><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">hive.metastore.rawstore.impl</p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">Name of the class that implements the org.apache.hadoop.hive.metastore.rawstore interface. This class is used to store and retrieval of raw metadata objects such as table, database. (Hive 0.8.1 and later.)</p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;"> </p></td></tr><tr><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">org.jpox.autoCreateSchema</p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">Creates necessary schema on startup if one doesn't exist. (The schema includes tables, columns, and so on.) Set to false after creating it once.</p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;"> </p></td></tr><tr><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">org.jpox.fixedDatastore</p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">Whether the datastore schema is fixed.</p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;"> </p></td></tr><tr><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">datanucleus.autoStartMechanism</p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">Whether to initialize on startup.</p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;"> </p></td></tr><tr><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">hive.metastore.ds.connection.url.hook</p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">Name of the hook to use for retriving the JDO connection URL. If empty, the value in javax.jdo.option.ConnectionURL is used as the connection URL. (Hive 0.6 and later.)</p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;"> </p></td></tr><tr><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">hive.metastore.ds.retry.attempts</p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">The number of times to retry a call to the backing datastore if there were a connection error.<br/><span>(Hive 0.6 through 0.12; removed in 0.13.0 – use hive.hmshandler.retry.attempts instead.) </span></p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">1</p></td></tr><tr><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">hive.metastore.ds.retry.interval</p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">The number of miliseconds between datastore retry attempts.<br/>(Hive 0.6 through 0.12<span>; removed in 0.13.0 – use hive.hmshandler.retry.interval instead.</span>)</p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">1000</p></td></tr><tr><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">hive.metastore.server.min.threads</p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">Minimum number of worker threads in the Thrift server's pool.<br/><span>(Hive 0.6 and later.)</span></p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">200</p></td></tr><tr><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">hive.metastore.server.max.threads</p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">Maximum number of worker threads in the Thrift server's pool.<br/><span>(Hive 0.6 and later.)</span></p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">100000 since Hive 0.8.1</p></td></tr><tr><td colspan="1" class="confluenceTd"><p>hive.metastore.filter.hook</p></td><td colspan="1" class="confluenceTd"><p><span>Metastore hook class for further filtering the metadata read results on client side.<br/><span>(<a href="https://issues.apache.org/jira/browse/HIVE-8612" class="external-link" rel="nofollow">Hive 1.1.0</a> and later.)</span></span></p></td><td colspan="1" class="confluenceTd"><span>org.apache.hadoop.hive.metastore.DefaultMetaStoreFilterHookImpl</span></td></tr><tr><td colspan="1" class="confluenceTd"><p>hive.metastore.port</p></td><td colspan="1" class="confluenceTd"><p>Hive metastore listener port.<br/><span style="line-height: 1.4285715;">(</span><a href="https://issues.apache.org/jira/browse/HIVE-9365" style="line-height: 1.4285715;" class="external-link" rel="nofollow">Hive 1.3.0</a><span style="line-height: 1.4285715;"> and later.)</span></p></td><td colspan="1" class="confluenceTd">9083</td></tr></tbody></table></div><h4 id="AdminManualMetastoreAdministration-DataNucleusAutoStart">Data Nucleus Auto Start</h4><div class="confluence-information-macro confluence-information-macro-warning conf-macro output-block" data-hasbody="true" data-macro-name="warning"><p class="title">Configuring datanucleus.autoStartMechanism is highly recommended</p><span class="aui-icon aui-icon-small aui-iconfont-error confluence-information-macro-icon"> </span><div class="confluence-information-macro-body"><p>Configuring auto start for data nucleus is highly recommended. See <a class="external-link" href="https://issues.apache.org/jira/browse/HIVE-4762" rel="nofollow" style="text-decoration: none;">HIVE-4762</a> for more details.</p><div class="code panel pdl conf-macro output-block" style="border-width: 1px;" data-hasbody="true" data-macro-name="code"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Default" data-theme="Default"> &lt;property&gt;
    &lt;name&gt;datanucleus.autoStartMechanism&lt;/name&gt;
    &lt;value&gt;SchemaTable&lt;/value&gt;
  &lt;/property&gt;</pre>
</div></div></div></div><h4 style="margin-left: 0.0px;" id="AdminManualMetastoreAdministration-DefaultConfiguration">Default Configuration</h4><p style="margin-left: 0.0px;">The default configuration sets up an embedded metastore which is used in unit tests and is described in the next section. More practical options are described in the subsequent sections.</p><h3 style="margin-left: 0.0px;" id="AdminManualMetastoreAdministration-Local/EmbeddedMetastoreDatabase(Derby)">Local/Embedded Metastore Database (Derby)</h3><p style="margin-left: 0.0px;"><strong>An embedded metastore database is mainly used for unit tests. Only one process can connect to the metastore database at a time, so it is not really a practical solution but works well for unit tests.</strong></p><p style="margin-left: 0.0px;">For unit tests <a href="#AdminManualMetastoreAdministration-Local/EmbeddedMetastoreServer">Local/Embedded Metastore Server</a><span style="font-size: 14.0px;line-height: 1.4285715;"> configuration for the metastore server is used in conjunction with embedded database.</span></p><p style="margin-left: 0.0px;">Derby is the default database for the embedded metastore.</p><div class="table-wrap"><table style="margin-left: 0.0px;" class="confluenceTable"><colgroup><col/><col/><col/></colgroup><tbody><tr><th style="text-align: left;" class="confluenceTh"><div class="tablesorter-header-inner"><p style="margin-left: 0.0px;">Config Param</p></div></th><th style="text-align: left;" class="confluenceTh"><div class="tablesorter-header-inner"><p style="margin-left: 0.0px;">Config Value</p></div></th><th style="text-align: left;" class="confluenceTh"><div class="tablesorter-header-inner"><p style="margin-left: 0.0px;">Comment</p></div></th></tr><tr><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">javax.jdo.option.ConnectionURL</p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;"><code>jdbc:derby:;databaseName=<br/>../build/test/junit_metastore_db;create=true</code></p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">Derby database located at hive/trunk/build...</p></td></tr><tr><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">javax.jdo.option.ConnectionDriverName</p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;"><code>org.apache.derby.jdbc.EmbeddedDriver</code></p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">Derby embeded JDBC driver class.</p></td></tr><tr><td style="text-align: left;" class="confluenceTd"><p>hive.metastore.warehouse.dir</p></td><td style="text-align: left;" class="confluenceTd"><p><code><span class="nolink"><a rel="nofollow">file://${user.dir}/../build/ql/test/data/warehouse</a></span></code></p></td><td style="text-align: left;" class="confluenceTd"><p>Unit test data goes in here on your local filesystem.</p></td></tr></tbody></table></div><p style="margin-left: 0.0px;">If you want to run Derby as a network server so the metastore can be accessed from multiple nodes, see <a href="HiveDerbyServerMode.html" rel="nofollow">Hive Using Derby in Server Mode</a>.</p><h3 style="margin-left: 0.0px;" id="AdminManualMetastoreAdministration-RemoteMetastoreDatabase">Remote Metastore Database</h3><p>In this configuration, you would use a traditional standalone RDBMS server. <span>The following example configuration will set up a metastore in a MySQL server. This configuration of metastore database is recommended for any real use.</span></p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh"><div class="tablesorter-header-inner"><p>Config Param</p></div></th><th class="confluenceTh"><div class="tablesorter-header-inner"><p>Config Value</p></div></th><th class="confluenceTh"><div class="tablesorter-header-inner"><p>Comment</p></div></th></tr><tr><td class="confluenceTd"><p>javax.jdo.option.ConnectionURL</p></td><td class="confluenceTd"><p><code><a rel="nofollow">jdbc:mysql://</a>&lt;host name&gt;/&lt;database name&gt;?createDatabaseIfNotExist=true</code></p></td><td class="confluenceTd"><p>metadata is stored in a MySQL server</p></td></tr><tr><td class="confluenceTd"><p>javax.jdo.option.ConnectionDriverName</p></td><td class="confluenceTd"><p><code>com.mysql.jdbc.Driver</code></p></td><td class="confluenceTd"><p>MySQL JDBC driver class</p></td></tr><tr><td class="confluenceTd"><p>javax.jdo.option.ConnectionUserName</p></td><td class="confluenceTd"><p><code>&lt;user name&gt;</code></p></td><td class="confluenceTd"><p>user name for connecting to MySQL server</p></td></tr><tr><td class="confluenceTd"><p>javax.jdo.option.ConnectionPassword</p></td><td class="confluenceTd"><p><code>&lt;password&gt;</code></p></td><td class="confluenceTd"><p>password for connecting to MySQL server</p></td></tr></tbody></table></div><h3 style="margin-left: 0.0px;" id="AdminManualMetastoreAdministration-Local/EmbeddedMetastoreServer">Local/Embedded Metastore Server</h3><p style="margin-left: 0.0px;">In local/embedded metastore setup, the metastore server component is used like a library within the Hive Client. <span style="font-size: 14.0px;line-height: 1.4285715;">Each Hive Client will open a connection to the database and make SQL queries against it. Make sure that the database is accessible from the machines where Hive queries are executed since this is a local store. Also make sure the JDBC client library is in the classpath of Hive Client. This configuration is often used with HiveServer2 (to use embedded metastore only with HiveServer2 add &quot;--hiveconf hive.metastore.uris=' '&quot; in command line parameters of the hiveserver2 start command or use hiveserver2-site.xml (available in Hive 0.14)).</span></p><div class="table-wrap"><table style="margin-left: 0.0px;" class="confluenceTable"><colgroup><col/><col/><col/></colgroup><tbody><tr><th style="text-align: left;" class="confluenceTh"><div class="tablesorter-header-inner"><p style="margin-left: 0.0px;">Config Param</p></div></th><th style="text-align: left;" class="confluenceTh"><div class="tablesorter-header-inner"><p style="margin-left: 0.0px;">Config Value</p></div></th><th style="text-align: left;" class="confluenceTh"><div class="tablesorter-header-inner"><p style="margin-left: 0.0px;">Comment</p></div></th></tr><tr><td style="text-align: left;" class="confluenceTd"><p>hive.metastore.uris</p></td><td style="text-align: left;" class="confluenceTd"><p><em>not needed because this is local store</em></p></td><td style="text-align: left;" class="confluenceTd"><p> </p></td></tr><tr><td class="confluenceTd"><p>hive.metastore.local</p></td><td class="confluenceTd"><p><code>true</code></p></td><td class="confluenceTd"><p>this is local store (removed in Hive 0.10, see <a href="#AdminManualMetastoreAdministration-BasicConfigurationParameters">configuration description</a> section)</p></td></tr><tr><td class="confluenceTd"><p>hive.metastore.warehouse.dir</p></td><td class="confluenceTd"><p><code>&lt;base hdfs path&gt;</code></p></td><td class="confluenceTd"><p>Points to default location of non-external Hive tables in HDFS.</p></td></tr></tbody></table></div><h3 style="margin-left: 0.0px;" id="AdminManualMetastoreAdministration-RemoteMetastoreServer">Remote Metastore Server</h3><p style="margin-left: 0.0px;">In remote metastore setup, all Hive Clients will make a connection to a metastore server which in turn queries the datastore (MySQL in this example) for metadata. Metastore server and client communicate using <a class="external-link" href="http://incubator.apache.org/thrift" rel="nofollow">Thrift</a> Protocol. Starting with Hive 0.5.0, you can start a Thrift server by executing the following command:</p><div class="preformatted panel conf-macro output-block" style="border-width: 1px;" data-hasbody="true" data-macro-name="noformat"><div class="preformattedContent panelContent">
<pre>hive --service metastore</pre>
</div></div><p style="margin-left: 0.0px;">In versions of Hive earlier than 0.5.0, it's instead necessary to run the Thrift server via direct execution of Java:</p><div class="preformatted panel conf-macro output-block" style="border-width: 1px;" data-hasbody="true" data-macro-name="noformat"><div class="preformattedContent panelContent">
<pre>$JAVA_HOME/bin/java  -Xmx1024m -Dlog4j.configuration=file://$HIVE_HOME/conf/hms-log4j.properties -Djava.library.path=$HADOOP_HOME/lib/native/Linux-amd64-64/ -cp $CLASSPATH org.apache.hadoop.hive.metastore.HiveMetaStore</pre>
</div></div><p style="margin-left: 0.0px;">If you execute Java directly, then JAVA_HOME, HIVE_HOME, HADOOP_HOME must be correctly set; CLASSPATH should contain Hadoop, Hive (lib and auxlib), and Java jars.</p><p><strong style="letter-spacing: 0.0px;">Server Configuration Parameters</strong></p><p>The following example uses a<strong> </strong><a href="#AdminManualMetastoreAdministration-RemoteMetastoreDatabase">Remote Metastore Database</a>.</p><div class="table-wrap"><table class="relative-table confluenceTable" style="margin-left: 0.0px;width: 76.9565%;"><colgroup><col style="width: 19.5053%;"/><col style="width: 43.1095%;"/><col style="width: 37.3852%;"/></colgroup><tbody><tr><th style="text-align: left;" class="confluenceTh"><div class="tablesorter-header-inner"><p style="margin-left: 0.0px;">Config Param</p></div></th><th style="text-align: left;" class="confluenceTh"><div class="tablesorter-header-inner"><p style="margin-left: 0.0px;">Config Value</p></div></th><th style="text-align: left;" class="confluenceTh"><div class="tablesorter-header-inner"><p style="margin-left: 0.0px;">Comment</p></div></th></tr><tr><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">javax.jdo.option.ConnectionURL</p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;"><code>jdbc:mysql://&lt;host name&gt;/&lt;database name&gt;?createDatabaseIfNotExist=true</code></p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">metadata is stored in a MySQL server</p></td></tr><tr><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">javax.jdo.option.ConnectionDriverName</p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;"><code>com.mysql.jdbc.Driver</code></p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">MySQL JDBC driver class</p></td></tr><tr><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">javax.jdo.option.ConnectionUserName</p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;"><code>&lt;user name&gt;</code></p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">user name for connecting to MySQL server</p></td></tr><tr><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">javax.jdo.option.ConnectionPassword</p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;"><code>&lt;password&gt;</code></p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">password for connecting to MySQL server</p></td></tr><tr><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">hive.metastore.warehouse.dir</p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;"><code>&lt;base hdfs path&gt;</code></p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">default location for Hive tables.</p></td></tr><tr><td class="confluenceTd">hive.metastore.thrift.bind.host</td><td class="confluenceTd">&lt;host_name&gt;</td><td class="confluenceTd">Host name to bind the metastore service to. When empty, &quot;localhost&quot; is used. This configuration is available Hive 4.0.0 onwards.</td></tr></tbody></table></div><p>From Hive 3.0.0 (<a href="https://issues.apache.org/jira/browse/HIVE-16452" style="letter-spacing: 0.0px;" class="external-link" rel="nofollow">HIVE-16452</a>) onwards the metastore database stores a GUID which can be queried using the Thrift API get_metastore_db_uuid by metastore clients in order to identify the backend database instance. This API can be accessed by the HiveMetaStoreClient using the method getMetastoreDbUuid().</p><h4 style="margin-left: 0.0px;" id="AdminManualMetastoreAdministration-ClientConfigurationParameters"><strong>Client Configuration Parameters</strong></h4><div class="table-wrap"><table class="relative-table confluenceTable" style="margin-left: 0.0px;width: 85.9783%;"><colgroup><col style="width: 13.346%;"/><col style="width: 15.5598%;"/><col style="width: 71.0942%;"/></colgroup><tbody><tr><th style="text-align: left;" class="confluenceTh"><div class="tablesorter-header-inner"><p style="margin-left: 0.0px;">Config Param</p></div></th><th style="text-align: left;" class="confluenceTh"><div class="tablesorter-header-inner"><p style="margin-left: 0.0px;">Config Value</p></div></th><th style="text-align: left;" class="confluenceTh"><div class="tablesorter-header-inner"><p style="margin-left: 0.0px;">Comment</p></div></th></tr><tr><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">hive.metastore.uris</p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;"><code>thrift://&lt;host_name&gt;:&lt;port&gt;</code></p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">host and port for the Thrift metastore server. If <span>hive.metastore.thrift.bind.host is specified, <span> host should be same as that configuration</span>. </span>Read more about this in dynamic service discovery configuration parameters.</p></td></tr><tr><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">hive.metastore.local</p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;"><code>false</code></p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">Metastore is remote.  Note: This is no longer needed as of Hive 0.10.  Setting <em>hive.metastore.uri</em> is sufficient.</p></td></tr><tr><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">hive.metastore.warehouse.dir</p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;"><code>&lt;base hdfs path&gt;</code></p></td><td style="text-align: left;" class="confluenceTd"><p style="margin-left: 0.0px;">Points to default location of non-external Hive tables in HDFS.</p></td></tr></tbody></table></div><p><br/></p><p><strong>Dynamic Service Discovery Configuration Parameters</strong></p><p>From Hive 4.0.0 (<a href="https://issues.apache.org/jira/browse/HIVE-20794" class="external-link" rel="nofollow">HIVE-20794</a>) onwards, similar to HiveServer2, a ZooKeeper service can be used for dynamic service discovery of a remote metastore server. Following parameters are used by both metastore server and client.</p><div class="table-wrap"><table class="relative-table confluenceTable" style="width: 88.5326%;"><colgroup><col style="width: 16.769%;"/><col style="width: 24.14%;"/><col style="width: 59.0909%;"/></colgroup><tbody><tr><th class="confluenceTh"><p>Config Param</p></th><th class="confluenceTh"><p>Config Value</p></th><th class="confluenceTh"><p>Comment</p></th></tr><tr><td class="confluenceTd">hive.metastore.service.discovery.mode</td><td class="confluenceTd">service discovery mode</td><td class="confluenceTd">When it is set to &quot;zookeeper&quot;, ZooKeeper is used for dynamic service discovery of a remote metastore. In that case, a metastore adds itself to the ZooKeeper when it is started and removes itself when it shuts down. By default it is empty. Both the client and server should have same value for this parameter.</td></tr><tr><td class="confluenceTd">hive.metastore.uris</td><td class="confluenceTd">&lt;host_name&gt;:&lt;port&gt;, &lt;host_name&gt;:&lt;port&gt;, ...</td><td class="confluenceTd">One or more host and port pairs of ZooKeeper servers forming a ZooKeeper ensemble. Used when hive.metastore.service.discovery.mode is set to &quot;zookeeper&quot;. The configuration is not used by server otherwise. If all the servers are using the same port you may specify the port using hive.metastore.zookeeper.client.port instead of specifying it with every server separately. Both<span> the client and server should have same value for this parameter.</span></td></tr><tr><td class="confluenceTd"><p><span>hive.metastore.zookeeper.client.port</span></p></td><td class="confluenceTd">&lt;port&gt;</td><td class="confluenceTd">Port number when same port number is used by all the ZooKeeper servers in the ensemble. Both the client and server should have same value for this parameter.</td></tr><tr><td colspan="1" class="confluenceTd">hive.metastore.zookeeper.namespace</td><td colspan="1" class="confluenceTd">&lt;namespace name&gt;</td><td colspan="1" class="confluenceTd">The parent node under which all ZooKeeper nodes for metastores are created.</td></tr><tr><td colspan="1" class="confluenceTd">hive.metastore.zookeeper.session.timeout</td><td colspan="1" class="confluenceTd">&lt;time in milliseconds&gt;</td><td colspan="1" class="confluenceTd"><p>ZooKeeper client's session timeout (in milliseconds). The client is disconnected if a heartbeat is not sent in the timeout.</p></td></tr><tr><td colspan="1" class="confluenceTd">hive.metastore.zookeeper.connection.timeout</td><td colspan="1" class="confluenceTd">&lt;time in seconds&gt;</td><td colspan="1" class="confluenceTd"><p>ZooKeeper client's connection timeout in seconds. Connection timeout * hive.metastore.zookeeper.connection.max.retries with exponential backoff is when curator client deems connection is lost to zookeeper.</p></td></tr><tr><td colspan="1" class="confluenceTd">hive.metastore.zookeeper.connection.max.retries</td><td colspan="1" class="confluenceTd">&lt;number&gt;</td><td colspan="1" class="confluenceTd">Max number of times to retry when connecting to the ZooKeeper server.</td></tr><tr><td colspan="1" class="confluenceTd">hive.metastore.zookeeper.connection.basesleeptime</td><td colspan="1" class="confluenceTd">&lt;time in milliseconds&gt;</td><td colspan="1" class="confluenceTd"><p>Initial amount of time (in milliseconds) to wait between retries when connecting to the ZooKeeper server when using ExponentialBackoffRetry policy.</p></td></tr></tbody></table></div><p><br/></p><p><span style="letter-spacing: 0.0px;">If you are using MySQL as the datastore for metadata, put MySQL jdbc libraries in HIVE_HOME/lib before starting Hive Client or HiveMetastore Server.</span></p><p style="margin-left: 0.0px;">To change the metastore port, use this <code>hive</code> command:</p><div class="preformatted panel conf-macro output-block" style="border-width: 1px;" data-hasbody="true" data-macro-name="noformat"><div class="preformattedContent panelContent">
<pre>hive --service metastore -p &lt;port_num&gt;</pre>
</div></div><h3 id="AdminManualMetastoreAdministration-SupportedBackendDatabasesforMetastore">Supported Backend Databases for Metastore</h3><div class="table-wrap"><table class="confluenceTable"><colgroup><col/><col/><col/><col/></colgroup><tbody><tr><th class="confluenceTh">Database</th><th class="confluenceTh">Minimum Supported Version</th><th colspan="1" class="confluenceTh">Name for Parameter Values</th><th colspan="1" class="confluenceTh">See Also</th></tr><tr><td class="confluenceTd">MySQL</td><td class="confluenceTd"><span style="color: rgb(34,34,34);">5.6.17</span></td><td colspan="1" class="confluenceTd"><code>mysql</code></td><td colspan="1" class="confluenceTd"> </td></tr><tr><td class="confluenceTd">Postgres</td><td class="confluenceTd"><span style="color: rgb(34,34,34);">9.1.13</span></td><td colspan="1" class="confluenceTd"><pre><span>postgres</span></pre></td><td colspan="1" class="confluenceTd"> </td></tr><tr><td class="confluenceTd">Oracle</td><td class="confluenceTd"><span style="color: rgb(34,34,34);">11g</span></td><td colspan="1" class="confluenceTd"><code>oracle</code></td><td colspan="1" class="confluenceTd"><a href="Configuration%2bProperties.html#ConfigurationProperties-hive.metastore.orm.retrieveMapNullsAsEmptyStrings">hive.metastore.orm.retrieveMapNullsAsEmptyStrings</a></td></tr><tr><td class="confluenceTd">MS SQL Server</td><td class="confluenceTd"><span style="color: rgb(34,34,34);">2008 R2</span></td><td colspan="1" class="confluenceTd"><code>mssql</code></td><td colspan="1" class="confluenceTd"> </td></tr></tbody></table></div><h3 id="AdminManualMetastoreAdministration-MetastoreSchemaConsistencyandUpgrades">Metastore Schema Consistency and Upgrades</h3><div class="confluence-information-macro confluence-information-macro-information"><p class="title">Version</p><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>Introduced in Hive 0.12.0. See <a href="https://issues.apache.org/jira/browse/HIVE-3764" class="external-link" rel="nofollow">HIVE-3764</a>.</p></div></div><p>Hive now records the schema version in the metastore database and verifies that the metastore schema version is compatible with Hive binaries that are going to accesss the metastore. Note that the Hive properties to implicitly create or alter the existing schema are disabled by default. Hive will not attempt to change the metastore schema implicitly. When you execute a Hive query against an old schema, it will fail to access the metastore.</p><p>To suppress the schema check and allow the metastore to implicitly modify the schema, you need to set a configuration property <code>hive.metastore.schema.verification</code> to false in <code>hive-site.xml</code>.</p><p>Starting in release 0.12, Hive also includes an off-line schema tool to initialize and upgrade the metastore schema. Please refer to the details <a href="Hive%2bSchema%2bTool.html">here</a>.</p><p><span style="text-indent: 20.0px;width: auto;text-align: center;color: rgb(255,255,255);display: none;">Save</span></p>

                
        
    
        </div>

                        
    



<div id="labels-section" class="pageSection group">
    <div class="labels-section-content content-column" entityid="27362076" entitytype="page">
	<div class="labels-content">
		
    <ul class="label-list label-list-right ">
            <li class="no-labels-message">
            No labels
        </li>
            </ul>

    </div>
</div>
</div>
        
		
            




            
        








                        
    
<div id="comments-section" class="pageSection group">
        
    



</div>
        


                
    
            
</div>

    

    




    
    

    
    
    


    
<div id="space-tools-web-items" class="hidden">
                <div data-label="Overview" data-href="/confluence/spaces/viewspacesummary.action?key=Hive">Overview</div>
            <div data-label="Content Tools" data-href="/confluence/pages/reorderpages.action?key=Hive">Content Tools</div>
            <div data-label="Apps" data-href="/confluence/spaces/snippeterrors.action?key=Hive">Apps</div>
    </div>
        



            </div><!-- \#main -->
            
    
    
        
            
            

<div id="footer" role="contentinfo">
    <section class="footer-body">

                                                            <p class="license license-opensource">
                    Powered by a free <b>Atlassian Confluence Open Source Project License</b> granted to Apache Software Foundation. <a href="https://www.atlassian.com/software/views/opensource-community-additional-license-offer">Evaluate Confluence today</a>.<br>
                </p>
                    
        

        <ul id="poweredby">
            <li class="noprint">Powered by <a href="http://www.atlassian.com/software/confluence" class="hover-footer-link" rel="nofollow">Atlassian Confluence</a> <span id='footer-build-information'>7.13.2</span></li>
            <li class="print-only">Printed by Atlassian Confluence 7.13.2</li>
            <li class="noprint"><a href="https://support.atlassian.com/help/confluence" class="hover-footer-link" rel="nofollow">Report a bug</a></li>
            <li class="noprint"><a href="https://www.atlassian.com/company" class="hover-footer-link" rel="nofollow">Atlassian News</a></li>
        </ul>

        

        <div id="footer-logo"><a href="http://www.atlassian.com/" rel="nofollow">Atlassian</a></div>

                    
        
    </section>
</div>

    
</div>

</div><!-- \#full-height-container -->
</div><!-- \#page -->

    <span style="display:none;" id="confluence-server-performance">{"serverDuration": 66, "requestCorrelationId": "53bc354a1bb79448"}</span>
</body>

<!-- Mirrored from cwiki.apache.org/confluence/display/Hive/AdminManual+Metastore+Administration by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 15 Dec 2021 19:42:45 GMT -->
</html>
    
